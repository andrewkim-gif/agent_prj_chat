<!DOCTYPE html>
<html>
<head>
    <title>âœ… Testnet ë°ì´í„° ë¶„ë¦¬ í•´ê²° ì™„ë£Œ - ARA Chat</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 40px; max-width: 900px; }
        .solution { background: #d4edda; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #28a745; }
        .problem { background: #f8d7da; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #dc3545; }
        .info { background: #d1ecf1; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #17a2b8; }
        .warning { background: #fff3cd; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #ffc107; }
        code { background: #e9ecef; padding: 2px 6px; border-radius: 4px; font-family: 'Monaco', monospace; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .before, .after { padding: 15px; border-radius: 8px; }
        .before { background: #f8d7da; border: 1px solid #dc3545; }
        .after { background: #d4edda; border: 1px solid #28a745; }
        .button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 10px 5px; text-decoration: none; display: inline-block; }
        .button:hover { background: #0056b3; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        pre { background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>âœ… Testnet ë°ì´í„° ë¶„ë¦¬ ë¬¸ì œ í•´ê²° ì™„ë£Œ</h1>

    <div class="solution">
        <h3>ğŸ¯ ë¬¸ì œ í•´ê²° ì™„ë£Œ</h3>
        <p><strong>ì›ë˜ ë¬¸ì œ</strong>: Testnetì—ì„œ "447 dollars", "tcross 1899" ë“± mainnet ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ë¬¸ì œ</p>
        <p><strong>í•´ê²° ë°©ë²•</strong>: Network-aware ê°€ê²© ì²˜ë¦¬ ë° í† í° ì‹ë³„ì ì¶”ê°€ë¡œ testnet/mainnet ë°ì´í„° ì™„ì „ ë¶„ë¦¬</p>
    </div>

    <div class="info">
        <h3>ğŸ” ê¸°ì¡´ ì›”ë › ì—°ê²° ë°©ì‹ ë¶„ì„ ê²°ê³¼</h3>
        <p><strong>Layer 1 (Primary)</strong>: <code>window.cross</code> - ì§ì ‘ ë¸Œë¼ìš°ì € í™•ì¥í”„ë¡œê·¸ë¨ API ì‚¬ìš©</p>
        <p><strong>Layer 2 (Fallback)</strong>: Cross SDK - AppKit hooks ë° ConnectionController ì‚¬ìš©</p>
        <p><strong>ì™œ Cross SDK "Not ready"ì—¬ë„ ì‘ë™í•˜ëŠ”ê°€?</strong> ì§ì ‘ í™•ì¥í”„ë¡œê·¸ë¨ ì—°ê²°ì´ ì„±ê³µí•˜ë©´ SDKë¥¼ ê±´ë„ˆë›°ê¸° ë•Œë¬¸</p>
    </div>

    <div class="comparison">
        <div class="before">
            <h4>âŒ ì´ì „ (ë¬¸ì œ ìƒí™©)</h4>
            <ul>
                <li>Testnet: "447 dollars" í‘œì‹œ</li>
                <li>í† í°: "tcross 1899"</li>
                <li>Mainnet ê°€ê²©ì´ testnetì— í‘œì‹œ</li>
                <li>ë„¤íŠ¸ì›Œí¬ êµ¬ë¶„ ë¶ˆê°€</li>
            </ul>
        </div>
        <div class="after">
            <h4>âœ… ì´í›„ (í•´ê²° ìƒí™©)</h4>
            <ul>
                <li>Testnet: "$0.001" í…ŒìŠ¤íŠ¸ ê°€ê²©</li>
                <li>í† í°: "CROSS-TEST (Testnet)"</li>
                <li>ë„¤íŠ¸ì›Œí¬ë³„ ë…ë¦½ì  ê°€ê²©</li>
                <li>ëª…í™•í•œ testnet ì‹ë³„ì</li>
            </ul>
        </div>
    </div>

    <div class="info">
        <h3>ğŸ› ï¸ êµ¬í˜„ëœ í•´ê²°ì±…</h3>

        <h4>1. ë„¤íŠ¸ì›Œí¬ë³„ ê°€ê²© ì²˜ë¦¬</h4>
        <pre><code>// Testnet (chainId: 4158)ì—ì„œ ê°€ê²© ë³´ì •
if (chainId === 4158) {
  usdPrice = balanceInToken > 0 ? 0.001 : 0; // í…ŒìŠ¤íŠ¸ ê°€ê²©
}</code></pre>

        <h4>2. í† í° ì‹ë³„ì ì¶”ê°€</h4>
        <pre><code>// Testnet í† í° ëª…í™•í•œ êµ¬ë¶„
name: chainId === 4158 ? `${token.name} (Testnet)` : token.name
symbol: chainId === 4158 ? `${token.symbol}-TEST` : token.symbol</code></pre>

        <h4>3. í†µê³„ ì •ë³´ ë¶„ë¦¬</h4>
        <pre><code>// Testnetì—ì„œëŠ” ê°€ê²© ë³€ë™ë¥  0ìœ¼ë¡œ ì„¤ì •
percentChange24h: chainId === 4158 ? '0.00' : priceInfo.percentChange24h</code></pre>
    </div>

    <div class="warning">
        <h3>âš ï¸ í…ŒìŠ¤íŠ¸ í•„ìš” ì‚¬í•­</h3>
        <p>ì•„ë˜ ë²„íŠ¼ë“¤ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°ì±…ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:</p>

        <a href="/extension-vs-sdk-debug.html" class="button" target="_blank">ğŸ” Extension vs SDK ë¹„êµ</a>
        <a href="/updated-network-test.html" class="button" target="_blank">ğŸ“Š ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸</a>
        <a href="/cross-wallet-testnet-fix.html" class="button" target="_blank">ğŸ§ª Cross Wallet ì§„ë‹¨</a>

        <button onclick="testCurrentImplementation()" class="button">âœ… í˜„ì¬ êµ¬í˜„ í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="info">
        <h3>ğŸ“Š ì˜ˆìƒ ê²°ê³¼</h3>

        <h4>ğŸŒ Mainnet (chainId: 4157)</h4>
        <ul>
            <li>í† í°: "CROSS", "Cross Token"</li>
            <li>ê°€ê²©: ì‹¤ì œ ì‹œì¥ ê°€ê²© (ì˜ˆ: $0.45)</li>
            <li>ë³€ë™ë¥ : ì‹¤ì œ 24ì‹œê°„ ë³€ë™ë¥ </li>
        </ul>

        <h4>ğŸ§ª Testnet (chainId: 4158)</h4>
        <ul>
            <li>í† í°: "CROSS-TEST", "Cross Token (Testnet)"</li>
            <li>ê°€ê²©: $0.001 (ê³ ì • í…ŒìŠ¤íŠ¸ ê°€ê²©)</li>
            <li>ë³€ë™ë¥ : 0.00% (ê³ ì •)</li>
        </ul>
    </div>

    <div class="solution">
        <h3>ğŸ¯ ë‹¤ìŒ ë‹¨ê³„</h3>
        <ol>
            <li><strong>ì‹¤ì œ í…ŒìŠ¤íŠ¸</strong>: Cross Walletì—ì„œ testnetìœ¼ë¡œ ì „í™˜ í›„ í† í° í™•ì¸</li>
            <li><strong>UI í™•ì¸</strong>: ARA Chatì—ì„œ testnet í† í°ì´ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸</li>
            <li><strong>ë„¤íŠ¸ì›Œí¬ ì „í™˜</strong>: Mainnet â†” Testnet ì „í™˜ ì‹œ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ê²Œ ë¶„ë¦¬ë˜ëŠ”ì§€ í™•ì¸</li>
        </ol>
    </div>

    <div id="test-results" style="margin-top: 30px;"></div>

    <script>
        async function testCurrentImplementation() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<h3>ğŸ§ª í˜„ì¬ êµ¬í˜„ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h3>';

            // Test 1: Cross Wallet í™•ì¥í”„ë¡œê·¸ë¨ í™•ì¸
            if (window.cross) {
                try {
                    const chainId = await window.cross.getChainId();
                    const networkName = chainId === 4158 ? 'Testnet' : chainId === 4157 ? 'Mainnet' : 'Unknown';

                    resultsDiv.innerHTML += `
                        <div class="test-result success">
                            âœ… Cross Wallet Extension: ì‚¬ìš© ê°€ëŠ¥ (${networkName}, ChainID: ${chainId})
                        </div>
                    `;

                    // Test 2: í† í° ëª©ë¡ ì¡°íšŒ
                    const tokens = await window.cross.getTokenList();
                    resultsDiv.innerHTML += `
                        <div class="test-result success">
                            âœ… í† í° ëª©ë¡: ${tokens.length}ê°œ í† í° ì¡°íšŒë¨
                        </div>
                    `;

                    if (tokens.length > 0) {
                        const firstToken = tokens[0];
                        resultsDiv.innerHTML += `
                            <div class="test-result info">
                                ğŸ” ì²« ë²ˆì§¸ í† í°: ${firstToken.symbol} - ${firstToken.name}
                            </div>
                        `;

                        // ì˜ˆìƒ ê²°ê³¼ì™€ ë¹„êµ
                        if (chainId === 4158) {
                            resultsDiv.innerHTML += `
                                <div class="test-result info">
                                    ğŸ’¡ Testnet ëª¨ë“œ: ARA Chatì—ì„œ ì´ í† í°ì€ "${firstToken.symbol}-TEST (Testnet)"ë¡œ í‘œì‹œë˜ê³  ê°€ê²©ì€ $0.001ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.
                                </div>
                            `;
                        } else {
                            resultsDiv.innerHTML += `
                                <div class="test-result info">
                                    ğŸ’¡ Mainnet ëª¨ë“œ: ì‹¤ì œ ì‹œì¥ ê°€ê²©ì´ í‘œì‹œë©ë‹ˆë‹¤.
                                </div>
                            `;
                        }
                    }

                } catch (error) {
                    resultsDiv.innerHTML += `
                        <div class="test-result error">
                            âŒ Cross Wallet í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}
                        </div>
                    `;
                }
            } else {
                resultsDiv.innerHTML += `
                    <div class="test-result error">
                        âŒ Cross Wallet Extensionì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                    </div>
                `;
            }

            // Test 3: ARA Chat ë„¤íŠ¸ì›Œí¬ ìŠ¤í† ì–´ í™•ì¸
            if (window.useNetworkStore) {
                const state = window.useNetworkStore.getState();
                resultsDiv.innerHTML += `
                    <div class="test-result success">
                        âœ… ARA Chat ë„¤íŠ¸ì›Œí¬: ${state.currentNetwork}
                    </div>
                `;
            } else {
                resultsDiv.innerHTML += `
                    <div class="test-result warning">
                        âš ï¸ ARA Chat ë„¤íŠ¸ì›Œí¬ ìŠ¤í† ì–´ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ARA Chat ì•±ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.
                    </div>
                `;
            }

            resultsDiv.innerHTML += `
                <div class="test-result info">
                    ğŸ’¡ ì™„ì „í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ARA Chat ì•±ì—ì„œ ì§€ê°‘ì„ ì—°ê²°í•˜ê³  í† í° ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”.
                </div>
            `;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        window.addEventListener('load', () => {
            setTimeout(testCurrentImplementation, 1000);
        });
    </script>
</body>
</html>